(self.webpackChunklapaa=self.webpackChunklapaa||[]).push([[151],{1166:function(t,e,n){"use strict";var r,i=n(168),s=n(9439),a=n(2791),o=n(364),u=n(2554),c=n(6443),l=n(4923);e.Z=function(t){var e=t.children,n=t.background,d=t.className,f=t.overlap,h=(0,a.useState)(0),m=(0,s.Z)(h,2),v=m[0],g=m[1],p=(0,a.useRef)(null),y=(0,o.v9)((function(t){return t.theme.navType})),$=(0,o.v9)((function(t){return t.theme.currentTheme}));(0,a.useEffect)((function(){if(y===c.XA){var t=window.innerWidth,e=p.current.offsetWidth;g((t-e)/2)}}),[y]);return(0,l.tZ)("div",{ref:p,css:(0,u.iv)(r||(r=(0,i.Z)(["\n\t\t\t\tbackground-color: ",";\n\t\t\t\tpadding: ","px;\n\t\t\t\tmargin-top: -","px;\n\t\t\t\tmargin-left: -","px;\n\t\t\t\tmargin-right: -","px;\n\n\t\t\t\t@media "," {\n\t\t\t\t\tmargin-left: -","px;\n        \t\t\tmargin-right: -","px;\n\t\t\t\t}\n\n\t\t\t\t","\n\t\t\t"])),"dark"===$?"#2f3a50":c.wx.WHITE,c.hv.LAYOUT_CONTENT_GUTTER,c.hv.LAYOUT_CONTENT_GUTTER,c.hv.LAYOUT_CONTENT_GUTTER,c.hv.LAYOUT_CONTENT_GUTTER,c.qk.MOBILE,c.hv.LAYOUT_CONTENT_GUTTER_SM,c.hv.LAYOUT_CONTENT_GUTTER_SM,f?"margin-bottom: -4.6875rem;":""),className:"page-header-alt ".concat(d||""),style:function(){var t={backgroundImage:n?"url(".concat(n,")"):"none"};return y===c.XA&&(t.marginRight=-v,t.marginLeft=-v,t.paddingLeft=0,t.paddingRight=0),t}(),children:y===c.XA?(0,l.tZ)("div",{className:"container",children:e}):(0,l.tZ)(l.HY,{children:e})})}},8470:function(t,e,n){"use strict";var r=n(1413),i=n(5245).Z.div((function(t){var e=t.justifyContent,n=t.alignItems,i=t.flexDirection,s=t.gap,a=t.padding,o=t.margin,u={display:"flex",justifyContent:e,alignItems:n,gap:"number"===typeof s?"".concat(s,"px"):s};return i&&(u.flexDirection=i),a&&(u.padding=a),o&&(u.margin=o),(0,r.Z)({},u)}));e.Z=i},3151:function(t,e,n){"use strict";n.r(e);var r=n(4165),i=n(5861),s=n(9439),a=n(2791),o=n(376),u=n(7615),c=n(814),l=n(2962),d=n(2339),f=n(3388),h=n(2385),m=n(7309),v=n(1645),g=n(5848),p=n(9529),y=n(4215),$=n(2622),x=n(711),_=n(9286),T=n(1166),S=n(8470),w=n(7689),D=n(9305),M=n(7892),Z=n.n(M),j=n(1933),k=n(184),N=o.Z.Search;e.default=function(){var t=(0,a.useState)([]),e=(0,s.Z)(t,2),n=e[0],o=e[1],M=(0,a.useState)([]),O=(0,s.Z)(M,2),C=O[0],E=O[1],b=(0,a.useState)(!0),A=(0,s.Z)(b,2),Y=A[0],L=A[1],I=(0,a.useState)(""),U=(0,s.Z)(I,2),H=U[0],W=U[1],R=(0,a.useState)(!1),F=(0,s.Z)(R,2),G=(F[0],F[1],u.Z.useForm()),P=((0,s.Z)(G,1)[0],(0,w.s0)()),z=(0,w.UO)().name;(0,a.useEffect)((function(){z&&W(z)}),[z]),(0,a.useEffect)((function(){var t=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(){var e,n,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,L(!0),t.next=4,(0,j.ZP)("/youths/","GET",[]);case 4:n=t.sent,i=(null===(e=n.data)||void 0===e?void 0:e.results)||[],o(i),E(i),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error fetching youths:",t.t0);case 13:return t.prev=13,L(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var J=function(t){W(t);var e=t.toLowerCase(),r=n.filter((function(t){var n,r,i,s=(null===(n=t.education)||void 0===n?void 0:n.map((function(t){return"".concat(t.highest_level," ").concat(t.field_of_study," ").concat(t.institution)})).join(" "))||"",a=(null===(r=t.skills)||void 0===r?void 0:r.map((function(t){return"".concat(t.name," ").concat(t.proficiency)})).join(" "))||"",o=(null===(i=t.employment_history)||void 0===i?void 0:i.map((function(t){return"".concat(t.current_status," ").concat(t.company_name," ").concat(t.role)})).join(" "))||"";return"\n                ".concat(t.full_name,"\n                ").concat(t.national_id,"\n                ").concat(t.gender,"\n                ").concat(t.ward,"\n                ").concat(s,"\n                ").concat(a,"\n                ").concat(o,"\n                ").toLowerCase().includes(e)}));E(r)};(0,a.useEffect)((function(){H&&J(H)}),[H]);var V=function(t,e){(0,j.ZP)("/youths/".concat(t,"/"),"DELETE",[]).then((function(){o(e),E(e)})).catch((function(t){console.error("Error deleting youth:",t),c.Z.error({title:"Error",content:"Failed to delete the youth record. Please try again."})}))},X=[{title:"Name",dataIndex:"full_name",key:"full_name",render:function(t,e){return(0,k.jsxs)(S.Z,{alignItems:"center",children:[(0,k.jsx)(l.C,{size:40,src:e.profile_photo,icon:!e.profile_photo&&(0,k.jsx)(p.Z,{}),className:"mr-2"}),(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"font-weight-semibold",children:t}),(0,k.jsxs)("span",{className:"text-muted",children:["ID: ",e.national_id]})]})]})}},{title:"Gender",dataIndex:"gender",key:"gender"},{title:"Age",key:"age",render:function(t,e){return e.date_of_birth?Z()().diff(Z()(e.date_of_birth),"year"):"N/A"}},{title:"Ward",dataIndex:"ward",key:"ward"},{title:"Career Level",key:"career_level",render:function(t,e){var n,r=null===(n=e.employment_history)||void 0===n?void 0:n[0];return r?r.current_status:"N/A"}},{title:"Skills",key:"skills",render:function(t,e){var n,r=null===(n=e.skills)||void 0===n?void 0:n.map((function(t){return(0,k.jsx)(d.Z,{color:"blue",children:t.name},t.id)}));return null!==r&&void 0!==r&&r.length?r:"N/A"}},{title:"Field of Study",key:"field_of_study",render:function(t,e){var n,r=null===(n=e.education)||void 0===n?void 0:n[0];return r?"".concat(r.field_of_study," (").concat(r.highest_level,")"):"N/A"}},{title:"Actions",key:"actions",align:"right",render:function(t,e){var r=(0,k.jsxs)(f.Z,{children:[(0,k.jsxs)(f.Z.Item,{onClick:function(){return P("".concat(D.sH,"/apps/youth/view/").concat(e.id))},children:[(0,k.jsx)(y.Z,{}),(0,k.jsx)("span",{className:"ml-2",children:"View Details"})]},"view"),(0,k.jsx)(f.Z.Divider,{}),(0,k.jsxs)(f.Z.Item,{onClick:function(){return function(t){var e=n.filter((function(e){return e.id!==t}));c.Z.confirm({title:"Delete Youth",content:"Are you sure you want to delete this youth record?",okText:"Yes",okType:"danger",cancelText:"No",onOk:function(){return V(t,e)}})}(e.id)},children:[(0,k.jsx)($.Z,{}),(0,k.jsx)("span",{className:"ml-2",children:"Delete"})]},"delete")]});return(0,k.jsx)(h.Z,{overlay:r,trigger:["click"],children:(0,k.jsx)(m.ZP,{icon:(0,k.jsx)(x.Z,{})})})}}];return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(T.Z,{className:"border-bottom",children:(0,k.jsx)("div",{className:"container-fluid",children:(0,k.jsxs)(S.Z,{justifyContent:"space-between",alignItems:"center",className:"py-4",children:[(0,k.jsx)("h2",{children:"Youth Registry"}),(0,k.jsxs)(m.ZP,{type:"primary",onClick:function(){return P("".concat(D.sH,"/apps/youth/register"))},children:[(0,k.jsx)(_.Z,{}),(0,k.jsx)("span",{className:"ml-1",children:"Add New Youth"})]})]})})}),(0,k.jsx)(v.Z,{children:(0,k.jsxs)("div",{className:"container my-4",children:[(0,k.jsx)(N,{placeholder:"Search anything \u2014 name, ID, skill, field, or status",allowClear:!0,onSearch:J,onChange:function(t){return J(t.target.value)},style:{maxWidth:320},value:H}),(0,k.jsx)(g.Z,{columns:X,dataSource:C,rowKey:"id",loading:Y,pagination:{pageSize:50}})]})})]})}},7892:function(t){t.exports=function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",s="minute",a="hour",o="day",u="week",c="month",l="quarter",d="year",f="date",h="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},p=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},y={s:p,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+p(r,2,"0")+":"+p(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,a=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:u,d:o,D:f,h:a,m:s,s:i,ms:r,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},$="en",x={};x[$]=g;var _=function(t){return t instanceof D},T=function t(e,n,r){var i;if(!e)return $;if("string"==typeof e){var s=e.toLowerCase();x[s]&&(i=s),n&&(x[s]=n,i=s);var a=e.split("-");if(!i&&a.length>1)return t(a[0])}else{var o=e.name;x[o]=e,i=o}return!r&&i&&($=i),i||!r&&$},S=function(t,e){if(_(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new D(n)},w=y;w.l=T,w.i=_,w.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var D=function(){function g(t){this.$L=T(t.locale,null,!0),this.parse(t)}var p=g.prototype;return p.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(m);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return w},p.isValid=function(){return!(this.$d.toString()===h)},p.isSame=function(t,e){var n=S(t);return this.startOf(e)<=n&&n<=this.endOf(e)},p.isAfter=function(t,e){return S(t)<this.startOf(e)},p.isBefore=function(t,e){return this.endOf(e)<S(t)},p.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,e){var n=this,r=!!w.u(e)||e,l=w.p(t),h=function(t,e){var i=w.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(o)},m=function(t,e){return w.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},v=this.$W,g=this.$M,p=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case d:return r?h(1,0):h(31,11);case c:return r?h(1,g):h(0,g+1);case u:var $=this.$locale().weekStart||0,x=(v<$?v+7:v)-$;return h(r?p-x:p+(6-x),g);case o:case f:return m(y+"Hours",0);case a:return m(y+"Minutes",1);case s:return m(y+"Seconds",2);case i:return m(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(t,e){var n,u=w.p(t),l="set"+(this.$u?"UTC":""),h=(n={},n[o]=l+"Date",n[f]=l+"Date",n[c]=l+"Month",n[d]=l+"FullYear",n[a]=l+"Hours",n[s]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[u],m=u===o?this.$D+(e-this.$W):e;if(u===c||u===d){var v=this.clone().set(f,1);v.$d[h](m),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},p.set=function(t,e){return this.clone().$set(t,e)},p.get=function(t){return this[w.p(t)]()},p.add=function(r,l){var f,h=this;r=Number(r);var m=w.p(l),v=function(t){var e=S(h);return w.w(e.date(e.date()+Math.round(t*r)),h)};if(m===c)return this.set(c,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===o)return v(1);if(m===u)return v(7);var g=(f={},f[s]=e,f[a]=n,f[i]=t,f)[m]||1,p=this.$d.getTime()+r*g;return w.w(p,this)},p.subtract=function(t,e){return this.add(-1*t,e)},p.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=w.z(this),s=this.$H,a=this.$m,o=this.$M,u=n.weekdays,c=n.months,l=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return w.s(s%12||12,t,"0")},f=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:w.s(o+1,2,"0"),MMM:l(n.monthsShort,o,c,3),MMMM:l(c,o),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(s),HH:w.s(s,2,"0"),h:d(1),hh:d(2),a:f(s,a,!0),A:f(s,a,!1),m:String(a),mm:w.s(a,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:i};return r.replace(v,(function(t,e){return e||m[t]||i.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(r,f,h){var m,v=w.p(f),g=S(r),p=(g.utcOffset()-this.utcOffset())*e,y=this-g,$=w.m(this,g);return $=(m={},m[d]=$/12,m[c]=$,m[l]=$/3,m[u]=(y-p)/6048e5,m[o]=(y-p)/864e5,m[a]=y/n,m[s]=y/e,m[i]=y/t,m)[v]||y,h?$:w.a($)},p.daysInMonth=function(){return this.endOf(c).$D},p.$locale=function(){return x[this.$L]},p.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=T(t,e,!0);return r&&(n.$L=r),n},p.clone=function(){return w.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},g}(),M=D.prototype;return S.prototype=M,[["$ms",r],["$s",i],["$m",s],["$H",a],["$W",o],["$M",c],["$y",d],["$D",f]].forEach((function(t){M[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,D,S),t.$i=!0),S},S.locale=T,S.isDayjs=_,S.unix=function(t){return S(1e3*t)},S.en=x[$],S.Ls=x,S.p={},S}()}}]);
//# sourceMappingURL=151.ced9d7cb.chunk.js.map