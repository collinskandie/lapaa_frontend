{"version":3,"file":"static/js/744.9bffc78b.chunk.js","mappings":"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","sources":["views/auth-views/authentication/forgot-password/index.js","../node_modules/@ant-design/icons-svg/es/asn/KeyOutlined.js","../node_modules/@ant-design/icons/es/icons/KeyOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/LockOutlined.js","../node_modules/@ant-design/icons/es/icons/LockOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/MailOutlined.js","../node_modules/@ant-design/icons/es/icons/MailOutlined.js","../node_modules/antd/es/col/index.js","../node_modules/antd/es/row/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Card, Row, Col, Form, Input, Button, message } from \"antd\";\nimport { MailOutlined, KeyOutlined, LockOutlined } from \"@ant-design/icons\";\nimport { useSelector } from \"react-redux\";\nimport API from \"services/Api\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst backgroundStyle = {\n  backgroundImage: \"url(/img/others/image.png)\",\n  backgroundRepeat: \"no-repeat\",\n  backgroundSize: \"cover\",\n};\n\nconst ForgotPassword = () => {\n  const navigate = useNavigate();\n  const [form] = Form.useForm();\n  const [loading, setLoading] = useState(false);\n  const [forgotPasswordSent, setForgotPasswordSent] = useState(false);\n  const [emailUsed, setEmailUsed] = useState(\"\"); // State to store email\n\n  const theme = useSelector((state) => state.theme.currentTheme);\n\n  const onSend = (values) => {\n    setLoading(true);\n\n    if (forgotPasswordSent) {\n      const payload = {\n        email: emailUsed, // Use stored email\n        otp: values.otp,\n        new_password: values.new_password, // Only send the new password, not confirm_password\n      };\n      API(\"user/forgot-password/\", \"POST\", payload)\n        .then((response) => {\n          if (response.status === \"success\") {\n            navigate(`/auth/login`);\n          } else {\n            message.error(`Error: ${response.data.error}`);\n            setLoading(false);\n          }\n        })\n        .catch((error) => {\n          message.error(\"Failed to add send email.\");\n          console.log(error);\n        });\n    } else {\n      API(\"user/forgot-password/\", \"POST\", values)\n        .then((response) => {\n          if (response.status === \"success\") {\n            message.success(\"New password has sent to your email!\");\n            setEmailUsed(values.email); // Store the email in state\n            setForgotPasswordSent(true);\n            setLoading(false);\n          } else {\n            message.error(`Error: ${response.data.error}`);\n            setLoading(false);\n          }\n        })\n        .catch((error) => {\n          message.error(\"Failed to add send email.\");\n          console.log(error);\n        });\n    }\n  };\n\n  return (\n    <div className=\"h-100\" style={backgroundStyle}>\n      <div className=\"container d-flex flex-column justify-content-center h-100\">\n        <Row justify=\"center\">\n          <Col xs={20} sm={20} md={20} lg={9}>\n            <Card>\n              <div className=\"my-2\">\n                <div className=\"text-center\">\n                  <img\n                    className=\"img-fluid\"\n                    src={`/img/${\n                      theme === \"light\" ? \"logo.png\" : \"logo-white.png\"\n                    }`}\n                    alt=\"\"\n                  />\n                  <h3 className=\"mt-3 font-weight-bold\">\n                    {forgotPasswordSent ? \"Reset Password\" : \"Forgot Password?\"}\n                  </h3>\n                  <p className=\"mb-4\">\n                    {forgotPasswordSent\n                      ? \"Enter the OTP sent to your email along with the new password\"\n                      : \"Enter your Email to reset password\"}\n                  </p>\n                </div>\n                <Row justify=\"center\">\n                  <Col xs={24} sm={24} md={20} lg={20}>\n                    <Form\n                      form={form}\n                      layout=\"vertical\"\n                      name=\"forget-password\"\n                      onFinish={onSend}\n                    >\n                      {!forgotPasswordSent ? (\n                        // Form to send reset email\n                        <>\n                          <Form.Item\n                            name=\"email\"\n                            rules={[\n                              {\n                                required: true,\n                                message: \"Please input your email address\",\n                              },\n                              {\n                                type: \"email\",\n                                message: \"Please enter a valid email!\",\n                              },\n                            ]}\n                          >\n                            <Input\n                              placeholder=\"Email Address\"\n                              prefix={<MailOutlined className=\"text-primary\" />}\n                            />\n                          </Form.Item>\n                          <Form.Item>\n                            <Button\n                              loading={loading}\n                              type=\"primary\"\n                              htmlType=\"submit\"\n                              block\n                            >\n                              {loading ? \"Sending\" : \"Send\"}\n                            </Button>\n                          </Form.Item>\n                        </>\n                      ) : (\n                        // Form to reset password\n                        <>\n                          <Form.Item\n                            name=\"otp\"\n                            rules={[\n                              {\n                                required: true,\n                                message:\n                                  \"Please input the OTP sent to your email!\",\n                              },\n                            ]}\n                          >\n                            <Input\n                              placeholder=\"Enter OTP\"\n                              prefix={<KeyOutlined className=\"text-primary\" />}\n                            />\n                          </Form.Item>\n                          <Form.Item\n                            name=\"new_password\"\n                            rules={[\n                              {\n                                required: true,\n                                message: \"Please input your new password!\",\n                              },\n                            ]}\n                            hasFeedback\n                          >\n                            <Input.Password\n                              placeholder=\"New Password\"\n                              prefix={<LockOutlined className=\"text-primary\" />}\n                            />\n                          </Form.Item>\n                          <Form.Item\n                            name=\"confirm_password\"\n                            dependencies={[\"new_password\"]}\n                            hasFeedback\n                            rules={[\n                              {\n                                required: true,\n                                message: \"Please confirm your password!\",\n                              },\n                              ({ getFieldValue }) => ({\n                                validator(_, value) {\n                                  if (\n                                    !value ||\n                                    getFieldValue(\"new_password\") === value\n                                  ) {\n                                    return Promise.resolve();\n                                  }\n                                  return Promise.reject(\n                                    new Error(\"The two passwords do not match!\")\n                                  );\n                                },\n                              }),\n                            ]}\n                          >\n                            <Input.Password\n                              placeholder=\"Confirm Password\"\n                              prefix={<LockOutlined className=\"text-primary\" />}\n                            />\n                          </Form.Item>\n                          <Form.Item>\n                            <Button\n                              loading={loading}\n                              type=\"primary\"\n                              htmlType=\"submit\"\n                              block\n                            >\n                              {loading ? \"Resetting\" : \"Reset Password\"}\n                            </Button>\n                          </Form.Item>\n                        </>\n                      )}\n                    </Form>\n                  </Col>\n                </Row>\n              </div>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    </div>\n  );\n};\n\nexport default ForgotPassword;\n","// This icon file is generated automatically.\nvar KeyOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M608 112c-167.9 0-304 136.1-304 304 0 70.3 23.9 135 63.9 186.5l-41.1 41.1-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-44.9 44.9-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-65.3 65.3a8.03 8.03 0 000 11.3l42.3 42.3c3.1 3.1 8.2 3.1 11.3 0l253.6-253.6A304.06 304.06 0 00608 720c167.9 0 304-136.1 304-304S775.9 112 608 112zm161.2 465.2C726.2 620.3 668.9 644 608 644c-60.9 0-118.2-23.7-161.2-66.8-43.1-43-66.8-100.3-66.8-161.2 0-60.9 23.7-118.2 66.8-161.2 43-43.1 100.3-66.8 161.2-66.8 60.9 0 118.2 23.7 161.2 66.8 43.1 43 66.8 100.3 66.8 161.2 0 60.9-23.7 118.2-66.8 161.2z\" } }] }, \"name\": \"key\", \"theme\": \"outlined\" };\nexport default KeyOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport KeyOutlinedSvg from \"@ant-design/icons-svg/es/asn/KeyOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar KeyOutlined = function KeyOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: KeyOutlinedSvg\n  }));\n};\nKeyOutlined.displayName = 'KeyOutlined';\nexport default /*#__PURE__*/React.forwardRef(KeyOutlined);","// This icon file is generated automatically.\nvar LockOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z\" } }] }, \"name\": \"lock\", \"theme\": \"outlined\" };\nexport default LockOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LockOutlinedSvg from \"@ant-design/icons-svg/es/asn/LockOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar LockOutlined = function LockOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: LockOutlinedSvg\n  }));\n};\nLockOutlined.displayName = 'LockOutlined';\nexport default /*#__PURE__*/React.forwardRef(LockOutlined);","// This icon file is generated automatically.\nvar MailOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z\" } }] }, \"name\": \"mail\", \"theme\": \"outlined\" };\nexport default MailOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MailOutlinedSvg from \"@ant-design/icons-svg/es/asn/MailOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar MailOutlined = function MailOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: MailOutlinedSvg\n  }));\n};\nMailOutlined.displayName = 'MailOutlined';\nexport default /*#__PURE__*/React.forwardRef(MailOutlined);","import { Col } from '../grid';\nexport default Col;","import { Row } from '../grid';\nexport default Row;"],"names":["backgroundStyle","backgroundImage","backgroundRepeat","backgroundSize","navigate","useNavigate","Form","form","useState","loading","setLoading","forgotPasswordSent","setForgotPasswordSent","emailUsed","setEmailUsed","theme","useSelector","state","currentTheme","className","style","justify","xs","sm","md","lg","src","alt","layout","name","onFinish","values","payload","email","otp","new_password","API","then","response","status","message","data","error","catch","console","log","rules","required","placeholder","prefix","hasFeedback","dependencies","getFieldValue","validator","_","value","Promise","reject","Error","resolve","type","htmlType","block","KeyOutlined","props","ref","React","AntdIcon","_objectSpread","icon","KeyOutlinedSvg","displayName","LockOutlined","LockOutlinedSvg","MailOutlined","MailOutlinedSvg","Col","Row"],"sourceRoot":""}